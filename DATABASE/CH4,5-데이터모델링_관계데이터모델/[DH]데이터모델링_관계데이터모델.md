# Chapter 04. 데이터모델링
## 01. 데이터 모델링과 데이터 모델의 개념
- 데이터 모델링: 현실 세계에 존재하는 데이터를 컴퓨터 세계의 DB로 옮기는 과정. DB 설계의 핵심 과정
- 추상화: 데이터 중 가치가 있는 중요 데이터(특징)만 찾아내는 과정
  - 개념적 모델링: 중요 데이터를 추출해 개념 세계로 옮기는 작업
  - 논리적 모델링: 개념 세계의 데이터를 Db에 저장할 구조를 결정하고 이 구조로 표현하는 작업

- 데이터 모델: 데이터 모델리의 결과물을 표현하는 도구
  - 종류
    - 개념적 데이터 모델: 사람이 이해할 수 있도록 현실 세계를 모델링해 표현하는 도구
    - 논리적 데이터 모델: 개념적 구조를 논리적 구조로 표현하는 도구
  - 구성
    - 데이터 구조
    - 연산
    - 제약조건
## 02. 개체-관계 모델
ERD(Entity-Relationship Diagram)
### 1. 개체
현실 세계에서 사람이나 사물과 같이 물리적, 개념적으로 구별되는 모든 것. 각 개체만의 고유한 특성이나 상태(속성)를 하나 이상 가지고 있다.
- 인스턴스: 실체화된 개체(실제 값을 가진 개체)

### 2. 속성
개체가 가지고 있는 고유한 특성  
**구분**
- 속성
  - 속성 값의 개수
    - 단일 값 속성: 특정 개체를 구성하는 속성 값이 하나
    - 다중 값 속성: 특정 개체를 구성하는 속성 값이 여러 개 - 이중 타원으로 표현
  - 의미의 분해 가능성
    - 단순 속성: 더는 분해할 수 없는 속성
    - 복합 속성: 의미를 분해할 수 있는 속성(주소, 생년월일 등)
  - 기존 속성 값에서 유도
    - 유도 속성: 값이 별도로 저장되는 것이 아니라 기존의 다른 속성 값에서 유도되어 결정되는 속성(가격 + 할인율 = 판매가격)  

### 3. 관계  
개체와 개체가 맺고 있는 의미 있는 연고나성. 개체 집함들 사이 매핑을 의미  

#### 관계의 유형
- 일대일 관계: 개체 A와 개체 B의 인스턴스가 각각 하나씩 관계를 맺을 수 있는 관계
- 일대다 관계: 개체 A는 개체 B의 인스턴스 하나만, 개체 B는 개체 A의 인스턴스 여러 개가 관계를 맺을 수 있는 관계
- 다대다 관계: 개체 A와 개체 B의 인스턴스가 각각 여러 개씩 관계를 맺을 수 있는 관계

#### 관계의 참여 유형
- 필수적 참여: 개체 A와 B 사이에서 개체 A의 모든 개체 인스턴스가 관계에 반드시 참여해야 하는 경우(이중 선으로 표현)
- 선택적 참여: 인스턴스 중 일부만 관게에 참여해도 되는 경우

### 관계의 종속성
- 개체 A가 독자적으로 존재할 수 없고 다른 개체 B에 의존적인 경우, 개체 A는 B에 종속되어 있다고 한다.
  - 개체 B가 존재해야 개체 A가 있을 수 있고, 개체 B가 삭제된다면 개체 A도 함께 삭제되어야 한다.(존재 종속)
  - 이때 개체 A를 약한 개체(다른 개체의 존재 여부에 의존적인 개체)라고 하며, 개체 B를 강한 개체(다른 개체의 존재 여부를 결정하는 개체)라고 한다.

### 4. E-R 다이어그램
- ER모델을 이용해 현실 세계를 개념적으로 모델링한 결과물을 그림으로 표현한 것

## 03 논리적 데이터 모델
### 1. 논리적 데이터 모델의 개념과 특성
ERD로 표현된 개념적 구조를 논리적 데이터 모델은 DBMS에 따라 DB에 저장할 현태로 표현한 논리적 구조.
- 관계 데이터 모델
- 게층 데이터 모델
- 네트워크 데이터 모델

# Chapter 05. 관계 데이터 모델
## 01. 관계 데이터 모델의 개념
### 1. 관계 데이터 모델의 기본 용어
- 속성(열, Attribute, field)
- 튜플(행, Tuple, record)
- 도메인: 속성 하나가 가질 수 있는 모든 값의 집합
- null
- 차수: 하나의 릴레이션에서 속성의 전체 개수
- 카디널리티: 하나의 릴레이션에서 튜플의 전체 개수

### 2. 릴레이션과 데이터베이스의 구성
- 릴레이션 스키마: 릴레이션의 이름과 모든 속성의 이름을 정의하는 논리적 구조
  - 릴레이션이름(속성이름1, ..., 속성이름n)
- 릴레이션 인스턴스
  - 어느 한 시점에 릴레이션에 존재하는 튜플들의 집합

### 3. 릴레이션의 특성
1. 튜플의 유일성: 하나의 릴레이션에는 동일한 튜플이 존재할 수 없다.
2. 튜플의 무순서: 하나의 릴레이션에서 튜플 사이의 순서는 무의미하다.(순서가 바뀐다고 다른 릴레이션이 되지 않는다.)
3. 속성의 무순서: 하나의 릴레이션에서 속성 사이의 순서는 무의미하다.(순서가 바뀌어도 같은 릴레이션이다.)
4. 속성의 원자성: 속성 값으로 원자 값만 사용할 수 있다.

### 4. 키의 종류
- 슈퍼키: 유일성을 만족하는 속성(들의 집합)
  - 유일성: 하나의 릴레이션에서 튜플마다 다른 값을 가지고 있는 특성
- 후보키: 유일성과 최소성을 만족하는 속성(들의 집합)
  - 최소성: 꼭 필요한 최소한의 속성들로만 키를 구성하는 특성
  - 슈퍼키 중에서 최소성을 만족하는 것이 후보키가 된다.
- 기본키: 후보키 중 선택된 속성(들의 집합)
  - 기본키를 성택할 때 고려하면 좋은 것
    - null을 가질 수 있는 속성이 포함되지 않아야 한다.
    - 값이 자주 변경되지 않아야 한다.
    - 단순한 후보키여야 한다.
- 대체키: 기본키로 선택되지 못한 후보키
- 외래키: 어떤 릴레이션에 소속된 속성이 다른 릴레이션의 기본키가 되는 키.

## 02. 관계 데이터 모델의 제약
관계 데이터 모델에서 정의하고 있는 기본 제약사항은 **무결성 제약조건**이다.
무결성은 데이터에 결함이 없는 상태를 말한다.  
무결정 제약조건은 개체 무결성 제약조건과 참조 무결성 제약조건으로 구분된다.

### 1. 개체 무결성 제약조건
기본키를 구성하는 모든 속성은 null값을 가질 수 없다는 규칙.  
이를 지키기 위해선 CUD 시에 null이 포함된다면 요청을 거절해야 한다.

### 2. 참조 무결성 제약 조건
외래키는 참조할 수 없는 값을 가질 수 없다.  


# 예상 질문
> Q1. 데이터베이스 설계 시 후보키가 여러 개일 경우, 기본키를 선택하기 위한 기준은 무엇인가요?

> Q2. 사용자 입력 데이터를 서버로 보내기 전에, 프론트엔드에서 개체 무결성(예: 기본키 중복 방지)을 검증해야 한다면, 어떤 방식으로 이를 처리할 수 있을까요?
