# Chapter2. 데이터베이스 관리 시스템
## 1. 데이터베이스 관리 시스템의 등장 배경
- 기존엔 파일 시스템(file system)으로 데이터 관리
	1. 데이터 중복성 발생
		- 데이터 일관성, 무결성 유지하기 어려움
		- 저장 공간 낭비
	2. 응용 프로그램이 데이터 파일에 종속적
		- 파일에 저장된 데이터 변경 시 관련된 모든 응용 프로그램에서 접근 방법 변경해야함
	3. 데이터 파일에 대한 동시 공유, 보안, 회복 기능 부족
	4. 응용 프로그램 개발이 어려움
## 2. 데이터베이스 관리 시스템의 정의
- 데이터베이스 관리 시스템(DBMS: DataBase Management System) : 파일 시스템의 데이터 중복과 데이터 종속 문제를 해결하기 위해 제시된 소프트웨어
### 주요 기능
1. 정의 기능: DB 구조 정의 및 수정
2. 조작 기능: 데이터에 접근하여 사용 가능 (삽입, 삭제, 수정, 검색)
3. 제어 기능: 여러 사용자가 공유해도 항상 정확하고 안전하게 유지 (무결성 유지, 장애 회복, 보안 유지)
## 3. 데이터베이스 관리 시스템의 장,단점
### 1. 장점
1. 데이터 중복 통제
2. 데이터 독립성 확보
3. 데이터 동시 공유
4. 데이터 보안 향상
5. 데이터 무결성 유지
6. 표준화 가능
7. 장애 발생 시 회복 가능
8. 응용 프로그램 비용 감소
### 2. 단점
1. 비용이 많이 듦
2. 백업과 회복 방법 복잡
## 4. 데이터베이스 관리 시스템의 발전 과정
### 1. 1세대 데이터베이스 관리 시스템: 네트워크, 계층 DBMS
- 네트워크 DBMS: 데이터베이스를 노드와 간선을 이용한 그래프 형태로 구성하는 네트워크 데이터 모델
	- DB 구조가 복잡하고 변경하기 어려움
	- ex. IDS
- 계층 DBMS: DB를 트리 형태로 구성
	- 현실 세계의 모습을 트리 형태만으로 표현하기 힘듦
	- 구조 변경 어려움
	- ex. IMS
### 2. 2세대 데이터베이스 관리 시스템: 관계 DBMS
- DB를 테이블 형태로 구성
	- 단순하고 이해하기 쉬운 구조
	- ex. 오라클, MySQL, MariaDB 등
### 3. 3세대 데이터베이스 관리 시스템: 객체지향, 객체관계 DBMS
- 객체지향 DBMS: 객체라는 개념을 이용해 DB를 구성
	- 다양하고 복잡한 응용 분야의 데이터 관리를 위해 제안됨
	- ex. 오투O2, 온투스ONTOS
- 객체관계 DBMS: 관계 데이터 모델에 객체지향 개념 도입
	- 객체지향 DBMS와 관계 DBMS 개념 통합
	- ex. 오라클
### 4. 4세대 이후 데이터베이스 관리 시스템: NoSQL, NewSQL DBMS
- NoSQL DBMS: 안정성과 일관성 유지를 위한 복잡한 기능 포기, 비정형 데이터 저장 및 처리에 적합
	- 확장성이 뛰어남
	- ex. MongoDB, Redis
- NewSQL DBMS: 안정성과 일관성 유지 + SQL로 다양하고 복잡한 데이터 처리 편리하게 요청
	- NoSQL의 확장성 및 유연성과 RDBMS의 장점 모두 지원
	- ex. 구글 스패너, 볼트DB
# Chapter3. 데이터베이스 시스템
## 1. 데이터베이스 시스템의 정의
- 데이터베이스 시스템(DBS: DataBase System): 데이터베이스에 데이터 저장, 저장된 데이터를 관리하여 조직에 필요한 정보를 생성해주는 시스템
## 2. 데이터베이스의 구조
### 1. 스키마 (schema)
- 데이터베이스에 저장되는 데이터 구조와 제약조건을 정의한 것
### 2. 3단계 데이터베이스 구조 (3-level database architecture)
#### 1. 외부 단계 (external level)
- 개별 사용자 관점
- 외부 스키마 (external schema): 외부 단계에서 사용자에게 필요한 데이터베이스 정의
	- 하나의 DB에 여러 개 존재 가능
	- 서브 스키마(sub schema)라고도 함
#### 2. 개념 단계 (conceptual level)
- 조직 전체의 관점
- 개념 스키마(conceptual schema): DBMS나 관리자 관점에서 모든 사용자에게 필요한 데이터를 통합하여 전체 DB의 논리적 구조 정의
	- 데이터 간 관계, 제약조건, 데이터에 대한 보안 정책, 접근 권한에 대한 정의 포함
	- 하나의 DB에 개념 스키마 하나 존재
#### 3. 내부 단계 (internal level)
- 물리적인 저장 장치의 관점
- 내부 스키마 (internal schema): 전체 DB가 저장 장치에 실제로 저장되는 방법 정의
### 3. 데이터 독립성
- 데이터에 접근하기 위해 세가지 스키마 사이에 유기적인 대응 관계 성립해야 함
- 매핑(mapping) : 스키마 사이의 대응 관계
	- 데이터 독립성(data independency) 실현하기 위해
- 데이터 독립성: 하위 스키마를 변경해도 상위 스키마는 영향을 받지 않는 특성
#### 논리적 데이터 독립성
- 개념 스키마가 변경되어도 외부 스키마 영향 X
#### 물리적 데이터 독립성
- 내부 스키마가 변경되어도 개념 스키마 영향 X (결과적으로 외부 스키마도 영향 X)
### 4. 데이터 사전 (data dictionary)
- 데이터베이스에 저장되는 데이터에 관한 정보를 저장하는 곳
- 메타데이터(meta data) : 데이터베이스에 저장되는 데이터에 관한 정보(스키마, 제약조건 등)
## 3. 데이터베이스 사용자
### 1. 데이터베이스 관리자 (DBA: DataBase Administrator)
- 데이터베이스 시스템을 운영, 관리
	- 데이터베이스 구성 요소 선정
	- 데이터베이스 스키마 정의
	- 물리적 저장 구조와 접근 방법 결정
	- 무결성 유지를 위한 제약조건 정의
	- 보안 및 접근 권한 정책 결정
	- 백업 및 회복 기법 정의
	- 시스템 데이터베이스 관리
	- 시스템 성능 감시 및 성능 분석
	- 데이터베이스 재구성
### 2. 최종 사용자
- 데이터를 조작하기 위해 데이터베이스에 접근하는 사람들
### 3. 응용 프로그래머
- 프로그래밍 언어로 응용 프로그램을 작성할 때 데이터베이스에 접근하는 데이터 조작어를 삽입하는 사용자
## 4. 데이터 언어
- 사용자가 데이터베이스를 구축하고 접근하기 위해 데이터베이스 관리 시스템과 통신하는 수단
### 1. 데이터 정의어 (DDL: Data Definition Language)
- 새 DB 구축을 위한 스키마 정의 or 기존 스키마 삭제, 수정 시 사용
### 2. 데이터 조작어 (DML: Data Manipulation Language)
- 절차적 데이터 조작어 (procedural DML)
	- 사용자가 어떤 데이터를 원하고 어떻게 처리해야 하는지 구체적으로 설명
- 비절차적 데이터 조작어 (nonprocedural DML)
	- 어떤 데이터를 원하는지만 설명
### 3. 데이터 제어어 (DCL: Data Control Language)
-  무결성과 일관성 유지를 위해 규칙이나 기법 정의할 때 사용
## 5. 데이터베이스 관리 시스템의 구성
### 1. 질의 처리기 (query processor)
- 사용자의 데이터 처리 요구 해석, 처리
	- DDL 컴파일러(DDL Compiler): 데이터 정의어로 작성된 스키마의 정의 해석
	- DML 프리 컴파일러(DML precompiler): 응용 프로그램에 삽입된 데이터 조작어 추출 후 DML 컴파일러에 전달
	- DML 컴파일러(DML compiler): 데이터 조작어로 작성된 데이터의 처리 요구 분석 후 해석
	- 런타임 데이터베이스 처리기(run-time database processor): 저장 데이터 관리자를 통해 DB에 접근 후 DML 컴파일러로부터 받은 데이터 처리 요구 DB에서 실행
	- 트랜잭션 관리자(transaction manager): 사용자 접근 권한 유효한지 검사, 제약조건 위반 여부 확인
### 2. 저장 데이터 관리자 (stored data manager)
- 디스크에 저장된 데이터베이스와 데이터 사전을 관리하고 실제로 접근하는 역할
# 예상 질문
1. 데이터 무결성을 위반하는 예시 한가지 말씀해주세요
	- 나이 컬럼에 음수 입력
	- 나는 2000년 생인데 1900년 생으로 입력됨
2. 세 가지 스키마 사이의 대응 관계가 중요한 이유 말씀해주세요
	- 세 가지 스키마가 존재하지만 관점이 다를 뿐 모두 하나의 DB를 표현합니다. 따라서 원하는 데이터를 얻으려면 대응관계가 중요합니다. 또한 이런 대응관계가 있어야 궁극적으로 하위 스키마가 변경되더라도 상위 스키마가 영향을 받지 않는 데이터 독립성을 실현 가능합니다.