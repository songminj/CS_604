# Chapter15. 파일 시스템
## 15-1. 파일과 디렉터리
### 파일
- DHH or SSD 등 보조기억장치에 저장된 관련 정보의 집합
- 실행을 위한 데이터, 메타데이터 등으로 구성됨
- 파일을 다루는 모든 작업은 OS에 의해 이뤄짐. 파일을 조작하기 위해선 System Call을 호출해야 함
  - 생성, 삭제, 열기, 닫기, 읽기, 쓰기

### 디렉터리
- 디렉터리(폴더)
- 1단계 디렉터리(모든 파일이 하나의 디렉터리 아래에 있음) ->트리 구조 디렉터리(루트 디렉터리로부터 시작)
- 디렉터리 연산도 System Call을 호출해야 함
  - 생성, 삭제, 열기, 닫기, 읽기

### 절대 경로와 상대 경로
- 절대 경로: 루트 디렉터리에서 자기 자신까지 이르는 고유한 경로
- 상대 경로: 현재 디렉터리로부터 시작하는 경로

### 디렉터리 엔트리(행)
- 디렉터리는 보조기억장치에 테이블 형태의 정보로 저장됨
- 각 엔트리에 담기는 정보는 파일 시스템마다 차이가 있음
  - 일반적으로 파일 이름과 위치를 유추할 수 있는 정보를 저장

## 15-2 파일 시스템
### 파티셔닝과 포매팅
- 파티셔닝: 저장 장치 파티션을 나누는 작업(파티션: 파티셔닝 작업을 통해 나누어진 영역)
- 포매팅: 파일 시스템을 설정해 어떤 방식으로 파일을 저장하고 관리할 것인지를 결정하고, 

### 파일 할당 방법
- OS는 파일, 디렉터리를 블록(block) 단위로 읽고 씀
- 연속 할당, 불연속 할당:연결 할당, 불연속 할당:색인 할당 방법으로 구분됨

### 연속 할당
- 보조기억장치 내 연속적인 블록에 파일을 할당하는 방식
- 외부 단편화를 야기할 수 있음

### 연결 할당
- 연결 리스트와 같이 다음 블록의 주소를 저장해 불연속적인 블록에 파일을 할당하는 방식
- 단점
  - 반드시 첫 번째 블록부터 하나씩 차례로 읽어야 함
  - HW고장 및 오류 발생 시 해당 블록 이후 블록은 접근할 수 없음

### 색인 할당
- 파일의 모든 블록 주소를 색인 블록이라는 하나의 블록에 모아 관리하는 방식

### 파일 시스템 살펴보기
- FAT 파일 시스템: USB, SD 카드 등 저용량 저장 장치에서 사용됨
  - FAT: 파일 할당 테이블
  - 테이블에 다음 블록 주소가 명시되어 있음
- 유닉스 파일 시스템: 유닉스 계열 OS에서 사용됨 
  - 색인 할당과 유사. 색인 할당의 색인 블록을 유닉스 파일 시스템에선 i(index)-node 라고 부름
  - 15개의 블록 주소 저장 가능
  - 만약 파일 크기가 15개 블록으로 저장할 수 없다면 13번째 주소에 단일 간접 블록 주소를 저장
  - 이로도 불충분하다면 14번째 주소에 이중 간접 블록 주소를 저장
  - 이로도 불충분하다면 15분째 주소에 삼중 간접 블록 주소를 저장