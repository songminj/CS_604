# Chapter 7. 보조기억장치
## 07-1 다양한 보조기억장치
### 하드 디스크
- HDD. Hard Disk Drive. 자기적인 방식으로 데이터를 저장.
- 따라서 HDD를 자기 디스크의 일종으로 지칭하기도 함
  - 플래터(platter): 데이터가 실질적으로 저장되는 곳
    - N극과 S극이 0, 1역할을 수행
    - 트랙(track)과 섹터(sector)라는 단위로 데이터를 저장
    - 트랙: 하나의 원
    - 섹터: 파지처럼 나눠진 여러 조각 중 하나
    - 실린더: 다른 플래터 간 같은 위치에 있는 트랙의 모음
    - 연속된 정보를 하나의 실린더에 기록하는 이유는 디스크 암을 움직이지 않고 바로 데이터에 접근할 수 있기 때문 
  - 스핀들(spindle): 플래터를 회전시키는 구성 요소
    - RPM: 분당 회전수. RPM이 15,000이면 1분에 15,000바퀴 회전하는 것
  - 헤드(head): 플래터를 대상으로 데이터를 읽고 쓰는 구성 요소
  - 디스크 암(disk arm): 헤더가 원하는 위치로 헤더를 이동시키는 요소

- HDD가 저장된 데이터에 접근하는 시간
  - 탐색 시간: 접근하려는 데이터가 저장된 트랙까지 헤드를 이동시키는 시간
    - 다중 헤드 디스크는 탐색 시간이 0이다.
  - 회전 지연: 헤드가 있는 곳으로 플래터를 회전시키는 시간
  - 전송 시간: HDD와 컴퓨터 간 데이터를 전송하는 시간

### 플래시 메모리
- 반도체 기반 저장 장치
- 셀(cell) 단위로 데이터 저장
  - SLC(Single Level Cell): 한 셀에 1비트
    - 한 셀로 두 개의 정보 표현 가능(0, 1). MLC, TLC에 비해 빠른 입출력 가능 
  - MLC(Multiple Level Cell): 한 셀에 2비트
    - 한 셀로 네 개의 정보 표현 가능. SLC보다 속도와 수명은 떨어지지만, 대용량화하기 유리함
  - TLC(Triple Level Cell): 한 셀에 3비트
    - 더욱 수명과 속도가 떨아지지만 용량 대비 가격이 더욱 저렴함
  - QLC: 4비트
   
- 단위
  - 페이지: 셀들이 모여 만들어진 단위
  - 블록: 페이지가 모여 만들어진 단위
  - 플레인: 블록이 모여 만들어진 단위
  - 다이: 플레인이 모여 만들어진 단위

## 07-3 RAID의 정의와 종류
### RAID 정의
- Redundant Array Of Independent Disk. 여러 개의 물리적 보조기억장치를 하나의 논리적 보조기억장치처럼 사용하는 기술

### RAID 종류
- RAID 구성 방법: RAID 레벨
- RAID 0
  - 여러 개의 보조기억장치에 데이터를 단순히 나누어 저장하는 구성 방식
  - -4TB 저장 장치 한 개를 읽고 쓰는 속도보다 RAID 0로 구성된 1TB 저장 장치 네 개의 속도가 이론상 네 배가량 빠름
  - 단점: 저장된 정보가 안전하지 않음
- RAID 1
  - 복사본을 만드는 방식(미러링)
  - 쓰기 속도는 RAID 0보다 느림, 비용 증가, 많은 양의 하드디스크 필요
- RAID 4
  - RAID 1처럼 완전한 복사본을 만드는 대신 오류를 검출하고 복구하기 위한 정보(패리티 비스)를 저장한 장치를 둠
- RAID 5
  - 페리티 비트를 분산 저장해 병목 현상 해결
- RAID 6
  - 서로 다른 두 개의 패리티를 두는 방식. 오류를 검출하고 복구할 수 있는 수단이 두 개가 생긴 것

# Chapter 8. 입출력 장치
## 08-1 장치 컨트롤러와 장치 드라이버
### 장치 컨트롤러
- 장치 컨트롤러: IO 컨트롤러, IO 모듈 등 다양하게 불림
- 데이터 버퍼링: 버퍼링이란 전송률이 높은 장치와 낮은 장치 사이에 주고받는 데이터를 버퍼라는 임시 저장 공간에 저장하여 전송률을 비슷 하게 맞추는 방법
- 장치 컨트롤러는 대표적으로 3개의 레지스터가 있음
  - 데이터 레지스터: CPU와 IO장치 사이에 주고받을 데이터가 담기는 레지스터
  - 상태 레지스터: IO 장치가 작업을 할 준비가 되었는지, 작업이 완료되었는지 등 상태정보가 저장됨
  - 제어 레지스터: IO 장치가 수행할 내용에 대한 제어 정보와 명령 정보를 저장

### 장치 드라이버
- 장치 드라이버: 장치 컨트롤러의 동작을 감지하고 제어함으로써 장치 컨트롤러가 컴퓨터 내부와 정보를 주고받을 수 있게 하는 프로그램
- 입출력장치를 연결하기 위한 소프트웨어적인 통로

## 08-2 다양한 입출력 방법
### 프로그램 입출력
- 프로그램 속 명령어로 IO 장치를 제어하는 방법

### 인터럽트 기반 입출력
- 인터럽트를 기반으로 하는 입출력
- 여러 입출력장치에서 인터럽트가 동시에 발생한 경우
  - 간단하게 생각하면 인터럽트가 발생한 순서대로 인터럽트를 처리하는 방법이 있음. 다만 우선순위가 있으므로 현실적으로 이 방법은 어려움
  - 따라서, 실제로는 인터럽트 실행 중 우선순위가 더 높은 인터럽트 발생 시 해당 인터럽트 루틴을 수행
  - PIC. (프로그래머블 인터럽트 컨트롤러)라는 HW를 사용해 다중 인터럽트의 우선순위를 판별
    - 일반적으로 2개 이상의 계층적으로 구성

### DMA 입출력
- 입출력장치와 메모리가 CPU를 거치지 않고도 상호작용할 수 있는 입출력 방식
- DMA: Direct Memory Accsss. 직접 메모리에 접근할 수 있는 IO 기능
  1. CPU는 DMA 컨트롤러에 입출력장치의 주소, 수행할 연산(읽기/쓰기), 읽거나 쓸 메모리의 주소 등과 같은 정보로 입출력 작업을 명령
  2. DMA 컨트롤러는 CPU 대신 장치 컨트롤러와 상호작용하며 입출력 작업을 수행.
  3. 입출력 작업이 끝나면 DMA 컨트롤러는 CPU에 인터럽트를 걸어 작업이 끝났음을 알림.